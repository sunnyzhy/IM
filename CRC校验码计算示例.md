# CRC 校验码计算示例

## 多项式的二进制表示

二进制数可以用以下规则表示多项式方程：

- 每个二进制位的位置对应一个多项式项

- ```1``` 表示该项存在，```0``` 表示该项不存在

- 最高次幂位于最左边的位置

示例：

二进制数：```1011```，其多项式为：```x^3 + x + 1``` （或 ```x3 + x + 1```）

从左至右，指数依次为 0、1、2、3，位数也依次为 0、1、2、3，是其中第 ```2``` 位是 ```0```，表示该项不存在；第 3 位、第 1 位、第 0 位都是 ```1```，所以书写的多项式为：```x^3 + x + 1``` （或 ```x3 + x + 1```）

## CRC 校验码计算示例

假设选择的 CRC 生成多项式为 ```P(X) = X4 + X3 + 1```，要求出二进制数 ```10110011``` 的 CRC 校验码。计算过程如下：

1. 把生成多项式转换成二进制数，由 ```P(X) = X4 + X3 + 1``` 可以知道，这个二进制的第 4 位、第 3 位、第 0 位的二进制均为 1，其它位均为 0，所以可以得出二进制值为 ```11001```

2. 由于校验码的位数比生成多项式的位数少 1，所以可以得出 CRC 校验码的位数为 4。需要在原数据 ```10110011``` 后面再补 4 个 0，得到 ```101100110000```

3. 用原数据除以生成多项式，得到的余数，即为 CRC 校验码。用 ```101100110000``` 除以 ```11001```，得到余数为 ```0100```，即为 CRC 校验码

4. 用 CRC 校验码 ```0100``` 替换原始数里补位的 4 个 0， 也就是把 ```101100110000``` 后面的 4 个 0 替换为 ```0100```，得到新数据 ```101100110100```

5. 把这个新数据 ```101100110100``` 发送到接收端

4. 接收端接收后，会用这个新数据 ```101100110100``` 除以 ```11001```，验证余数是否为 ```0```，如果为 ```0```，则证明该数据在传输过程中没有出现差错，否则说明有差错
